{% extends "admin/base.html" %}
{% block branding %}
<style>
    /* 1. ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»åŸºæœ¬è¨­å®šï¼ˆç¶­æŒï¼‰ */
    .modal-content {
        position: fixed !important;
        top: 45% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        height: 70vh !important;
        max-width: 85vw !important;
        border: 3px solid #fff !important;
        border-radius: 0 !important;
        z-index: 20001 !important;
        margin: 0 !important;
        display: block !important;
    }

    #modal-counter, .modal-counter {
        position: fixed !important;
        top: calc(45% - (70vh / 2)) !important;
        left: 50% !important;
        transform: translate(-50%, -100%) !important;
        background: rgba(0,0,0,0.8) !important;
        padding: 5px 20px !important;
        border: 2px solid #fff !important;
        border-bottom: none !important;
        border-radius: 10px 10px 0 0 !important;
        z-index: 20010 !important;
    }

    #modal-cart-btn, .modal-cart-action, [onclick*="cart"], button[style*="top: 0"] {
        position: fixed !important;
        top: calc(45% + (70vh / 2)) !important;
        left: 50% !important;
        transform: translate(-50%, 0) !important;
        width: calc(85vw + 6px) !important;
        background: #28a745 !important;
        color: white !important;
        padding: 15px 0 !important;
        font-size: 18px !important;
        font-weight: 900 !important;
        border: 3px solid #fff !important;
        border-top: none !important;
        border-radius: 0 0 15px 15px !important;
        cursor: pointer !important;
        text-align: center !important;
        z-index: 20015 !important;
    }

    /* 2. ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼é…è‰²ï¼ˆç¶­æŒï¼‰ */
    #nav-sidebar .app-catalog_a4 caption { background: #ff4d94 !important; }
    #nav-sidebar .app-catalog_tcg caption { background: #2684ff !important; }
    #nav-sidebar .app-catalog_admin_custom caption { background: #f0ad4e !important; }

    /* 3. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç¶­æŒï¼‰ */
    .modal-nav { position: fixed !important; top: 50% !important; transform: translateY(-50%) !important; font-size: 80px !important; color: rgba(255,255,255,0.4) !important; z-index: 20020 !important; }
    .close-btn { position: fixed !important; top: 20px !important; right: 40px !important; z-index: 20030 !important; }

    /* 4. ã‚¹ãƒãƒ›è¡¨ç¤ºã®æ­£å¸¸åŒ–ï¼ˆç¸¦ä¸¦ã³ãƒ»ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹å¾©æ´»ï¼‰ */
    @media (max-width: 768px) {
        /* å…¨ãƒšãƒ¼ã‚¸ã‚’ç¢ºå®Ÿã«ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼ˆç¸¦ä¸¦ã³ï¼‰ã§è¡¨ç¤º */
        .results, .results table, .results tbody, .results tr {
            display: table !important;
            width: 100% !important;
        }

        /* ğŸ’¡ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’å·¦ç«¯ã«å¼·åˆ¶å¾©æ´» */
        .action-checkbox, .action-checkbox-column, #result_list td:first-child, #result_list th:first-child {
            display: table-cell !important;
            width: 45px !important;
            min-width: 45px !important;
            visibility: visible !important;
            opacity: 1 !important;
            padding: 10px 5px !important;
            text-align: center !important;
        }

        .results td, .results th {
            display: table-cell !important;
            padding: 12px 5px !important;
            vertical-align: middle !important;
            white-space: normal !important;
            border-bottom: 1px solid #444 !important;
        }

        /* ã‚¿ã‚¤ãƒãƒ¼è¨­å®šï¼ˆé»„è‰²ã§å¼·èª¿ï¼‰ */
        td[class*="timer"], td[class*="time"], .field-timer_display {
            color: #ffcc00 !important;
            font-weight: bold !important;
            min-width: 90px !important;
            text-align: right !important;
        }
    }
</style>

<script>
    /* ç¸¦ãƒ»æ¨ªå…±é€šãƒ«ãƒ¼ãƒ«ï¼šå•†å“åã‹ã‚‰ã€ŒåŒäººã€ä»¥é™ã‚’å‰Šé™¤ã—ã¦çŸ­ãã™ã‚‹ */
    function cleanProductNames() {
        // å•†å“åãŒå«ã¾ã‚Œã‚‹ã‚»ãƒ«ï¼ˆåå‰ã€ç”»åƒã€ã‚¿ã‚¤ãƒãƒ¼ä»¥å¤–ãªã©ï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³
        const cells = document.querySelectorAll('#result_list td');
        cells.forEach(cell => {
            const text = cell.innerText;
            const keyword = "åŒäºº";
            const index = text.indexOf(keyword);
            
            // ã€ŒåŒäººã€ãŒè¦‹ã¤ã‹ã‚Šã€ã‹ã¤å•†å“åã‚‰ã—ã„é•·ã•ãŒã‚ã‚‹å ´åˆã®ã¿å®Ÿè¡Œ
            if (index > 0) {
                cell.innerText = text.substring(0, index).trim();
            }
        });
    }

    // èª­ã¿è¾¼ã¿æ™‚ã¨ã€é…å»¶å®Ÿè¡Œã§ç¢ºå®Ÿã«é©ç”¨
    document.addEventListener("DOMContentLoaded", cleanProductNames);
    window.addEventListener("load", cleanProductNames);
    setTimeout(cleanProductNames, 800);
</script>

<h1 id="site-name"><a href="{% url 'admin:index' %}">kawaiiå¥³ã®å­å›³é‘‘</a></h1>
{% endblock %}
