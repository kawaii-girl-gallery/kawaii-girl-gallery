{% extends "admin/base.html" %}
{% block branding %}
<style>
    /* 1. モーダル等の基本設定（維持） */
    .modal-content {
        position: fixed !important;
        top: 45% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        height: 70vh !important;
        max-width: 85vw !important;
        border: 3px solid #fff !important;
        border-radius: 0 !important;
        z-index: 20001 !important;
        margin: 0 !important;
        display: block !important;
    }

    #modal-counter, .modal-counter {
        position: fixed !important;
        top: calc(45% - (70vh / 2)) !important;
        left: 50% !important;
        transform: translate(-50%, -100%) !important;
        background: rgba(0,0,0,0.8) !important;
        padding: 5px 20px !important;
        border: 2px solid #fff !important;
        border-bottom: none !important;
        border-radius: 10px 10px 0 0 !important;
        z-index: 20010 !important;
    }

    #modal-cart-btn, .modal-cart-action, [onclick*="cart"], button[style*="top: 0"] {
        position: fixed !important;
        top: calc(45% + (70vh / 2)) !important;
        left: 50% !important;
        transform: translate(-50%, 0) !important;
        width: calc(85vw + 6px) !important;
        background: #28a745 !important;
        color: white !important;
        padding: 15px 0 !important;
        font-size: 18px !important;
        font-weight: 900 !important;
        border: 3px solid #fff !important;
        border-top: none !important;
        border-radius: 0 0 15px 15px !important;
        cursor: pointer !important;
        text-align: center !important;
        z-index: 20015 !important;
    }

    /* 2. サイドメニュー配色（維持） */
    #nav-sidebar .app-catalog_a4 caption { background: #ff4d94 !important; }
    #nav-sidebar .app-catalog_tcg caption { background: #2684ff !important; }
    #nav-sidebar .app-catalog_admin_custom caption { background: #f0ad4e !important; }

    /* 3. ナビゲーション（維持） */
    .modal-nav { position: fixed !important; top: 50% !important; transform: translateY(-50%) !important; font-size: 80px !important; color: rgba(255,255,255,0.4) !important; z-index: 20020 !important; }
    .close-btn { position: fixed !important; top: 20px !important; right: 40px !important; z-index: 20030 !important; }

    /* ✨ 4. スマホ用：特定のページ（原作・キャラ）のみ「絶対」に横スクロールにする設定 */
    @media (max-width: 768px) {
        /* 管理画面の一覧テーブル構造を強制破壊して横並びにする */
        .change-list.model-original .results, 
        .change-list.model-originalwork .results, 
        .change-list.model-character .results,
        .change-list.model-characterpedia .results {
            overflow-x: auto !important;
            display: block !important;
            -webkit-overflow-scrolling: touch;
            padding: 15px !important;
        }

        /* 内部テーブルとtbodyを横一行に強制 */
        .change-list.model-original #result_list,
        .change-list.model-originalwork #result_list,
        .change-list.model-character #result_list,
        .change-list.model-characterpedia #result_list,
        .change-list.model-original #result_list tbody,
        .change-list.model-originalwork #result_list tbody,
        .change-list.model-character #result_list tbody,
        .change-list.model-characterpedia #result_list tbody {
            display: flex !important;
            flex-direction: row !important;
            width: max-content !important;
            border: none !important;
        }

        /* 項目（tr）を1枚のカードに変身させる */
        .change-list.model-original #result_list tr,
        .change-list.model-originalwork #result_list tr,
        .change-list.model-character #result_list tr,
        .change-list.model-characterpedia #result_list tr {
            flex: 0 0 260px !important; /* 横幅260pxで固定 */
            display: flex !important;
            flex-direction: column !important;
            margin-right: 15px !important;
            border: 2px solid #555 !important;
            background: #1a1a1a !important;
            padding: 12px !important;
            border-radius: 15px !important;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5) !important;
        }

        /* セル内の文字と画像の配置調整 */
        .change-list.model-original #result_list td,
        .change-list.model-character #result_list td {
            display: block !important;
            width: 100% !important;
            border: none !important;
            white-space: normal !important;
            padding: 6px 0 !important;
            text-align: center !important;
        }

        /* 不要なテーブルヘッダー（項目名）を非表示 */
        .change-list.model-original thead, 
        .change-list.model-originalwork thead, 
        .change-list.model-character thead {
            display: none !important;
        }
    }
</style>
<h1 id="site-name"><a href="{% url 'admin:index' %}">kawaii女の子図鑑</a></h1>
{% endblock %}
